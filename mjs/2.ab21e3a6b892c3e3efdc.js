webpackJsonp([2],{QWfd:function(t,e){},b87Z:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n={data:function(){return{user:"",bank_id:"",cashmoney:"0.00",bank_list:"",money:"",setbox:!0,safety_code:"",Explain:""}},mounted:function(){this.getinfo(),this.ajaxlist()},methods:{getinfo:function(){if(localStorage.getItem("user_info")){var t=JSON.parse(localStorage.getItem("user_info"));t.time<(new Date).getTime()?this.ajaxuserinfo():this.user=t.data}else this.ajaxuserinfo()},ajaxuserinfo:function(){var t=this;this.$http.get("api/user/userinfo",{},function(e){if(200==e.status)if(200==e.data.code){var a={};a.time=(new Date).getTime()+1e4,a.data=e.data.data,localStorage.setItem("user_info",i()(a)),t.user=a.data}else 201==e.data.code&&t.$Message.warning(e.data.msg);else console.log(e.message)})},oninput:function(t){""==this.money?this.setbox=!0:this.setbox=!1},ajaxwithdraw:function(){var t=this;this.$http.post("api/user/withdraw",{code:101,cash_account_id:this.bank_id,money:this.money,safety_code:this.safety_code},function(e){if(200==e.status)if(200==e.data.code){t.user.balance_data.balance=(t.user.balance_data.balance-t.money).toFixed(2);var a={};a.time=(new Date).getTime()+1e4,a.data=t.user,localStorage.setItem("user_info",i()(a)),t.$Message.success(e.data.msg)}else 201==e.data.code&&t.$Message.warning(e.data.msg);else console.log(e.message)})},getwithdraw:function(){""==this.bank_id?this.$Message.warning("请选择提现银行卡"):parseFloat(this.money)>this.Explain.cash_max?this.$Message.warning("当前最高可提现"+this.Explain.cash_max+"元"):parseFloat(this.money)<this.Explain.cash_min?this.$Message.warning("当前最低可提现"+this.Explain.cash_min+"元"):parseFloat(this.money)>parseFloat(this.user.balance_data.balance)?this.$Message.warning("当前余额不足"):1==this.user.safety&&this.safety_code.length<5?this.$Message.warning("请输入正确的谷歌验证码"):this.ajaxwithdraw()},ajaxlist:function(){var t=this;this.$http.post("api/user/withdraw",{code:100},function(e){200==e.status?200==e.data.code?(t.bank_list=e.data.data.bank_list,t.Explain=e.data.data.Explain):201==e.data.code&&t.$Message.warning(e.data.msg):console.log(e.message)})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"withdraw"}},[a("div",{staticClass:"tit"},[t._v("申请提现")]),t._v(" "),a("div",{staticClass:"yue_box"},[a("div",[a("img",{attrs:{src:"/static/icon/8.png"}}),a("span",[t._v("账户余额")]),a("div",[t._v(t._s(t.user.balance_data.balance))])]),t._v(" "),a("div",[a("img",{attrs:{src:"/static/icon/9.png"}}),a("span",[t._v("冻结金额")]),a("div",[t._v(t._s(t.cashmoney))])])]),t._v(" "),a("div",{staticClass:"txz"},[a("div",{staticClass:"tite"},[t._v("请选择提款账户")]),t._v(" "),a("div",{staticClass:"select_box",staticStyle:{"margin-top":"10px","margin-left":"24px"}},[a("img",{staticStyle:{width:"13px","margin-top":"-7px","z-index":"10"},attrs:{src:"/static/icon/10.png"}}),t._v(" "),a("Select",{staticStyle:{width:"413px"},attrs:{placeholder:"请选择提款账户"},model:{value:t.bank_id,callback:function(e){t.bank_id=e},expression:"bank_id"}},t._l(t.bank_list,function(e){return a("Option",{key:e.Id,attrs:{value:e.Id}},[t._v(t._s(e.name)+" - "+t._s(e.bank_type))])}),1)],1)]),t._v(" "),1==t.user.safety?a("div",{staticClass:"shenq_box"},[a("div",{staticClass:"tite"},[t._v("请输入谷歌验证码")]),t._v(" "),a("div",{staticClass:"settle_money_box settle_money_box_x"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.safety_code,expression:"safety_code"}],attrs:{type:"number",placeholder:"输入谷歌验证码"},domProps:{value:t.safety_code},on:{input:function(e){e.target.composing||(t.safety_code=e.target.value)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"shenq_box"},[a("div",{staticClass:"tite"},[t._v("申请提现（提现金额只能为整数）")]),t._v(" "),a("div",{staticClass:"settle_money_box",class:{settle_money_box_w:t.setbox,settle_money_box_x:!t.setbox}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"text",placeholder:"输入提现金额(数字)"},domProps:{value:t.money},on:{input:[function(e){e.target.composing||(t.money=e.target.value)},function(e){return t.oninput(e)}]}})]),t._v(" "),a("span",[t._v("(最低提现金额:"+t._s(t.Explain.cash_min)+"元,最高提现金额:"+t._s(t.Explain.cash_max)+")")]),t._v(" "),a("div",{staticClass:"settle_ntn",class:{settle_ntn_w:t.setbox,settle_ntn_x:!t.setbox},on:{click:function(e){return t.getwithdraw()}}},[t._v("提现")])])])},staticRenderFns:[]};var c=a("VU/8")(n,o,!1,function(t){a("QWfd")},null,null);e.default=c.exports}});
//# sourceMappingURL=2.ab21e3a6b892c3e3efdc.js.map