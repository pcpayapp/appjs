webpackJsonp([4],{b5aZ:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("mvHQ"),i=s.n(e),n={data:function(){return{banktypearr:[{value:"支付宝"},{value:"中国工商银行"},{value:"中国邮政储蓄银行"},{value:"中国农业银行"},{value:"中国建设银行"},{value:"中国招商银行"},{value:"交通银行"},{value:"民生银行"},{value:"浦发银行"},{value:"中信银行"},{value:"中国银行"},{value:"平安银行"},{value:"其它银行"}],modal1:!1,modal2:!1,modal2_loading:!1,spin:!1,spin2:!1,list:[],page:{current:1,total:""},add_form:"",tdindex:"",tdstatus:!1,edit_form:""}},mounted:function(){this.ajaxlist(1)},methods:{modalbank:function(){this.modal1=!0,this.add_form={code:100,name:"",bank_type:"",bank_card:""}},ajaxlist:function(t){var a=this;this.spin=!0,this.$http.post("api/user/settlement_account",{page:t},function(t){a.spin=!1,200==t.status?200==t.data.code?(a.list=t.data.data.list,a.page.current=t.data.data.current_page,a.page.total=t.data.data.total):201==t.data.code&&a.$Message.warning(t.data.msg):console.log(t.message)})},tdchange:function(t,a){if(this.tdstatus){this.list.splice(this.tdindex,1);var s=t>=this.tdindex?t:t+1}else{this.tdstatus=!0;s=t+1}this.tdindex=s;var e={};e.data=JSON.parse(i()(this.list[t])),e.div=!0,e.Id="div",this.list.splice(s,0,e)},tdclose:function(){""!=this.tdindex&&(this.list.splice(this.tdindex,1),this.tdstatus=!1,this.tdindex="")},delbank:function(t){this.edit_form={},this.edit_form.bank_id=t,this.modal2=!0},ajaxdel:function(){var t=this;this.modal2_loading=!0,this.$http.post("api/user/settlement_account",{code:103,bank_id:this.edit_form.bank_id},function(a){t.modal2_loading=!1,200==a.status?200==a.data.code?(t.$Message.success(a.data.msg),t.modal2=!1,t.tdclose(),t.ajaxlist(t.page.current)):201==a.data.code&&t.$Message.warning(a.data.msg):console.log(a.message)})},ajaxadd:function(){var t=this;""==this.add_form.bank_type?this.$Message.warning("请选择要添加的银行类型"):this.add_form.bank_card.length<10?this.$Message.warning("请填写正确的银行卡号"):""==this.add_form.name?this.$Message.warning("请填写姓名"):(this.spin2=!0,this.$http.post("api/user/settlement_account",this.add_form,function(a){t.spin2=!1,200==a.status?200==a.data.code?(t.$Message.success(a.data.msg),t.modal1=!1,t.ajaxlist(t.page.current)):201==a.data.code&&t.$Message.warning(a.data.msg):console.log(a.message)}))}}},d={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"settlement_record"}},[s("div",{staticClass:"tit"},[s("span",[t._v("提款账户")]),t._v(" "),s("span",{staticClass:"addtk",on:{click:t.modalbank}},[t._v("添加账户")])]),t._v(" "),s("div",{staticClass:"store_bottom"},[s("table",[t._m(0),t._v(" "),s("tbody",{attrs:{"data-v-9154b70e":""}},[0==t.list.length?s("td",{attrs:{colspan:"11",align:"center"}},[t._m(1)]):t._e(),t._v(" "),t._l(t.list,function(a,e){return t.list.length>=1?s("tr",{key:a.Id,class:void 0===a.div?"":"chaoz",attrs:{"data-v-9154b70e":""}},[void 0===a.div?s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.name))]):t._e(),t._v(" "),void 0===a.div?s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.bank_type))]):t._e(),t._v(" "),void 0===a.div?s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.bank_card))]):t._e(),t._v(" "),void 0===a.div&&t.tdindex-1!=e?s("td",{staticStyle:{color:"rgb(56, 108, 250)",cursor:"pointer","font-weight":"bold"},attrs:{"data-v-9154b70e":""},on:{click:function(a){return t.tdchange(e)}}},[t._v("操作")]):t._e(),t._v(" "),t.tdindex-1==e?s("td",{staticStyle:{color:"rgb(56, 108, 250)",cursor:"pointer","font-weight":"bold"},attrs:{"data-v-9154b70e":""},on:{click:function(a){return t.tdclose()}}},[t._v("关闭")]):t._e(),t._v(" "),void 0!==a.div?s("td",{staticClass:"chaoz_box",attrs:{colspan:"4"}},[s("div",{on:{click:function(s){return s.stopPropagation(),t.delbank(a.data.Id)}}},[s("img",{attrs:{src:"/static/icon/14.png"}}),s("span",[t._v("删除卡号")])])]):t._e()]):t._e()})],2)]),t._v(" "),t.list.length>=1?s("Page",{staticClass:"fenye",attrs:{total:t.page.total,"page-size":15,current:t.page.current,"show-total":""},on:{"on-change":function(a){return t.ajaxlist(a)}}}):t._e()],1),t._v(" "),t.spin?s("Spin",{attrs:{fix:""}}):t._e(),t._v(" "),s("Modal",{attrs:{width:"520","footer-hide":""},model:{value:t.modal1,callback:function(a){t.modal1=a},expression:"modal1"}},[s("div",{staticClass:"ivu-modal-header-inner",attrs:{slot:"header"},slot:"header"},[t._v("\n            添加收款账户\n        ")]),t._v(" "),s("div",{attrs:{id:"receipt"}},[s("div",{staticClass:"in_box"},[s("div",{staticClass:"hai_biaot"},[s("span",[t._v("银行类型")])]),t._v(" "),s("div",{staticClass:"wb_box"},[s("Select",{staticStyle:{width:"328px"},attrs:{placeholder:"请选择银行类型"},model:{value:t.add_form.bank_type,callback:function(a){t.$set(t.add_form,"bank_type",a)},expression:"add_form.bank_type"}},t._l(t.banktypearr,function(a){return s("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.value))])}),1)],1),t._v(" "),s("div",{staticClass:"hai_biaot"},[s("span",[t._v("开户姓名")])]),t._v(" "),s("div",{staticClass:"wb_box"},[s("Input",{staticStyle:{width:"328px"},attrs:{type:"text",placeholder:"请输入银行卡姓名"},model:{value:t.add_form.name,callback:function(a){t.$set(t.add_form,"name",a)},expression:"add_form.name"}})],1),t._v(" "),s("div",{staticClass:"hai_biaot"},[s("span",[t._v("银行卡账号")])]),t._v(" "),s("div",{staticClass:"wb_box"},[s("Input",{staticStyle:{width:"328px"},attrs:{type:"number",placeholder:"请输入银行卡账号"},model:{value:t.add_form.bank_card,callback:function(a){t.$set(t.add_form,"bank_card",a)},expression:"add_form.bank_card"}})],1)])]),t._v(" "),s("div",{staticClass:"bottom_box",attrs:{"data-v-25db8c90":""}},[s("span",{attrs:{"data-v-25db8c90":""},on:{click:function(a){t.modal1=!1}}},[t._v("取消")]),t._v(" "),s("span",{attrs:{"data-v-25db8c90":""},on:{click:function(a){return t.ajaxadd()}}},[t._v("保存信息")])]),t._v(" "),t.spin2?s("Spin",{attrs:{fix:""}}):t._e()],1),t._v(" "),s("Modal",{attrs:{width:"360"},model:{value:t.modal2,callback:function(a){t.modal2=a},expression:"modal2"}},[s("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[s("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),s("span",[t._v("是否删除该银行卡")])],1),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("p",[t._v("删除该银行卡后,不可再次添加,如需恢复请联系客服")]),t._v(" "),s("p",[t._v("是否继续?")])]),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal2_loading},on:{click:t.ajaxdel}},[t._v("确定")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("tr",[a("th",[this._v("姓名")]),this._v(" "),a("th",[this._v("提款银行")]),this._v(" "),a("th",[this._v("提款账号")]),this._v(" "),a("th",[this._v("操作")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"none_now"},[a("img",{attrs:{src:"/static/icon/7.png"}}),this._v(" "),a("div",[this._v("暂无相关数据")])])}]};var o=s("VU/8")(n,d,!1,function(t){s("q6WT")},null,null);a.default=o.exports},q6WT:function(t,a){}});
//# sourceMappingURL=4.6593ea5e2c16d864e828.js.map