webpackJsonp([5],{zKRM:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mvHQ"),i=e.n(a),o={data:function(){return{spin:!0,user:"",loading:!1,google:!1,code:!1,google_code:"",safety_code:"",safety_url:""}},mounted:function(){this.ajaxinfo()},methods:{ajaxinfo:function(){this.user=JSON.parse(localStorage.getItem("user_info")).data,this.user.order_service=this.user.order_service+"%"},ajaxopen:function(){var t=this;this.$http.get("api/user/google_change",{code:100},function(s){if(200==s.status)if(200==s.data.code){t.safety_code=s.data.data.safety_code,t.safety_url="http://qr.topscan.com/api.php?text="+s.data.data.safety_url,t.google=!0,t.user.safety=1;var e={};e.time=(new Date).getTime()+1e4,e.data=t.user,localStorage.setItem("user_info",i()(e)),t.$Message.success(s.data.msg)}else 201==s.data.code&&t.$Message.warning(s.data.msg)})},ajaxclose:function(){this.code=!0},ajaxform:function(){var t=this;""==this.google_code?this.$Message.warning("请输入谷歌验证码"):(this.loading=!0,this.$http.get("api/user/google_change",{code:101,google_code:this.google_code},function(s){t.loading=!1,200==s.status&&(200==s.data.code?(t.google=!1,t.code=!1,t.user.safety=2,localStorage.setItem("user_info",i()(userinfo)),t.$Message.success(s.data.msg)):201==s.data.code&&t.$Message.warning(s.data.msg))}))}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"user_info"}},[e("div",{staticClass:"tit"},[t._v("个人信息")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"user_info"},[e("div",{staticClass:"imgs"},[t._v("K")]),t._v(" "),e("div",{staticClass:"info_right"},[e("div",{staticClass:"acc_num"},[t._v("\n\t\t\t   商户编号:\n\t\t\t"),e("span",[t._v(t._s(t.user.Id))]),t._v(" \n\t\t\t")]),t._v(" "),e("div",{staticClass:"associated"},[e("div",{staticClass:"associat"},[e("img",{attrs:{src:"/static/icon/6.png",width:"13"}}),t._v(" "),e("div",[t._v("手机号码："+t._s(t.user.phone))])])])])]),t._v(" "),e("div",{staticClass:"user_infos"},[e("div",{staticClass:"user_contact"},[e("div",[t._v("Token")]),t._v(" "),e("div",{staticClass:"con_right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.token,expression:"user.token"}],staticClass:"input_info",attrs:{type:"text",value:"",disabled:""},domProps:{value:t.user.token},on:{input:function(s){s.target.composing||t.$set(t.user,"token",s.target.value)}}})])]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"user_contact"},[e("div",[t._v("单笔订单费率")]),t._v(" "),e("div",{staticClass:"con_right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.order_service,expression:"user.order_service"}],staticClass:"input_info",attrs:{type:"text",value:"",disabled:""},domProps:{value:t.user.order_service},on:{input:function(s){s.target.composing||t.$set(t.user,"order_service",s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"user_contact"},[e("div",[t._v("谷歌验证")]),t._v(" "),e("div",{staticClass:"con_right"},[e("div",{staticClass:"sel_box",class:1==t.user.safety?"":"sel_after",on:{click:function(s){return s.stopPropagation(),t.ajaxclose(s)}}},[t._v("关闭")]),t._v(" "),e("div",{staticClass:"sel_box",class:1==t.user.safety?"sel_after":"",on:{click:function(s){return s.stopPropagation(),t.ajaxopen(s)}}},[t._v("开启")])])]),t._v(" "),t.google?e("div",{staticClass:"user_contact"},[e("div",[t._v("请绑定谷歌验证")]),t._v(" "),e("div",{staticClass:"con_right"},[e("p",[t._v("请在谷歌身份验证器输入秘钥"),e("span",{staticStyle:{"font-weight":"700","font-size":"15px",color:"#386cfa"}},[t._v(t._s(t.safety_code))]),t._v(",或扫以下二维码添加即可")]),t._v(" "),e("img",{attrs:{src:t.safety_url}})])]):t._e(),t._v(" "),t.code?e("div",{staticClass:"user_contact"},[e("div",[t._v("请输入谷歌验证码")]),t._v(" "),e("div",{staticClass:"con_right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.google_code,expression:"google_code"}],staticClass:"input_info",attrs:{type:"number"},domProps:{value:t.google_code},on:{input:function(s){s.target.composing||(t.google_code=s.target.value)}}})])]):t._e(),t._v(" "),t.code?e("Button",{staticStyle:{"margin-top":"40px","margin-left":"20px",width:"98px"},attrs:{type:"primary",loading:t.loading},on:{click:t.ajaxform}},[t.loading?e("span",[t._v("正在提交")]):e("span",[t._v("保存")])]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warn"},[s("img",{attrs:{src:"/static/icon/5.png"}}),this._v("\n\t\t\t注意事项：如需更改绑定手机号,请联系客服。\n\t ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"user_contact"},[s("div",[this._v("商户类型")]),this._v(" "),s("div",{staticClass:"con_right"},[s("input",{staticClass:"input_info",attrs:{type:"text",value:"普通商户",disabled:""}})])])}]},c=e("VU/8")(o,n,!1,null,null,null);s.default=c.exports}});
//# sourceMappingURL=5.bdb78e16d66c2751f69e.js.map