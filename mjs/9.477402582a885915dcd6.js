webpackJsonp([9],{dpb4:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("mvHQ"),r=s.n(e),v={data:function(){return{select:{field_select:[{value:"0",title:"全部订单"},{value:"order_id",title:"商户订单号"},{value:"apiorder_id",title:"平台订单号"}]},field:"0",val:"",time:"",drawer:"",drawer_status:!1,list:[],Total:"",page:{current:1,total:""},spin:!0,options:{disabledDate:function(t){return t&&t.valueOf()-864e5>Date.now()}}}},mounted:function(){this.time=[this.getDay(0),this.getDay(1)],this.ajaxlist(1,this.time,this.field,this.val)},methods:{getDay:function(t){var a=new Date,s=a.getTime(),e=864e5*t;a.setTime(parseInt(s+e));var r=a.getFullYear(),v=(a.getMonth()+1).toString();v.length<=1&&(v="0"+v);var i=a.getDate().toString();return i.length<=1&&(i="0"+i),r+"-"+v+"-"+i},ajaxlist:function(t,a,s,e){var r=this;this.spin=!0,this.$http.post("api/user/order_record",{page:t,time:a,field:s,val:e},function(t){console.log(t),r.spin=!1,200==t.status?200==t.data.code?(r.list=t.data.data.list,r.Total=t.data.data.Total,r.page.current=t.data.data.current_page,r.page.total=t.data.data.total):201==t.data.code&&r.$Message.warning(t.data.msg):console.log(t.message)})},datechange:function(t){this.time=t,this.ajaxlist(1,this.time,this.field,this.val)},changeDrawer:function(t){this.drawer=JSON.parse(r()(this.list[t])),2==this.drawer.status?this.drawer.profit=parseFloat(this.drawer.order_price)-parseFloat(this.drawer.order_service)-parseFloat(this.drawer.channel_service).toFixed(2):this.drawer.profit=0,this.drawer_status=!0}}},i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"order_record"}},[t._m(0),t._v(" "),s("div",{staticClass:"record_money"},[s("div",{staticClass:"tot_m"},[s("p",[t._v(t._s(t.Total.total_money))]),t._v(" "),s("span",[t._v("总提交金额")])]),t._v(" "),s("div",{staticClass:"succ_m"},[s("p",[t._v(t._s(t.Total.total_success_money))]),t._v(" "),s("span",[t._v("成功金额")])]),t._v(" "),s("div",{staticClass:"succ_m user_m"},[s("p",[t._v(t._s(t.Total.total_profit))]),s("span",[t._v("商户进账")])])]),t._v(" "),s("div",{staticClass:"record_table"},[s("DatePicker",{staticStyle:{width:"240px"},attrs:{type:"daterange",value:t.time,"split-panels":"",options:t.options,placeholder:"请选择订单创建时间"},on:{"on-change":function(a){return t.datechange(a)}}}),t._v(" "),s("div",{staticClass:"select_box select_box_none"},[s("img",{staticStyle:{width:"13px","margin-top":"-7px","z-index":"10"},attrs:{src:"/static/icon/4.png"}}),t._v(" "),s("Select",{staticStyle:{width:"160px",position:"absolute","z-index":"10",top:"0px"},model:{value:t.field,callback:function(a){t.field=a},expression:"field"}},t._l(t.select.field_select,function(a){return s("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.title))])}),1),t._v(" "),s("Input",{staticStyle:{width:"380px",position:"relative","z-index":"8"},attrs:{placeholder:"请输入对应的关键词"},model:{value:t.val,callback:function(a){t.val=a},expression:"val"}})],1),t._v(" "),s("div",{staticClass:"search_some",attrs:{"data-v-6940696e":""},on:{click:function(a){return a.stopPropagation(),t.ajaxlist(1,t.time,t.field,t.val)}}},[t._v("查询")])],1),t._v(" "),s("div",{staticClass:"store_bottom"},[s("table",{attrs:{"data-v-9154b70e":""}},[t._m(1),t._v(" "),s("tbody",{attrs:{"data-v-9154b70e":""}},[0==t.list.length?s("td",{attrs:{colspan:"10",align:"center"}},[t._m(2)]):t._e(),t._v(" "),t._l(t.list,function(a,e){return t.list.length>=1?s("tr",{key:a.Id,attrs:{"data-v-9154b70e":""}},[s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.sub_time))]),t._v(" "),s("td",{staticStyle:{color:"rgb(56, 108, 250)",cursor:"pointer"},attrs:{"data-v-9154b70e":""},on:{click:function(a){return t.changeDrawer(e)}}},[s("span",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.apiorder_id))])]),t._v(" "),s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.order_id))]),t._v(" "),s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.type))]),t._v(" "),s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.order_money))]),t._v(" "),s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.order_price))]),t._v(" "),2==a.notice?s("td",{attrs:{"data-v-9154b70e":""}},[s("Icon",{attrs:{type:"md-checkmark-circle"}})],1):t._e(),t._v(" "),1==a.notice?s("td",{attrs:{"data-v-9154b70e":""}},[s("Icon",{attrs:{type:"ios-alert"}})],1):t._e(),t._v(" "),3==a.notice?s("td",{attrs:{"data-v-9154b70e":""}},[s("Icon",{attrs:{type:"md-close-circle"}})],1):t._e(),t._v(" "),2==a.status?s("td",{attrs:{"data-v-9154b70e":""}},[s("Icon",{attrs:{type:"md-checkmark-circle"}})],1):t._e(),t._v(" "),1==a.status?s("td",{attrs:{"data-v-9154b70e":""}},[s("Icon",{attrs:{type:"ios-alert"}})],1):t._e(),t._v(" "),3==a.status?s("td",{attrs:{"data-v-9154b70e":""}},[s("Icon",{attrs:{type:"md-close-circle"}})],1):t._e(),t._v(" "),s("td",{attrs:{"data-v-9154b70e":""}},[t._v(t._s(a.remarks))]),t._v(" "),s("td",{staticStyle:{color:"rgb(56, 108, 250)","user-select":"none",cursor:"pointer","font-weight":"bold"},attrs:{"data-v-9154b70e":""},on:{click:function(a){return t.changeDrawer(e)}}},[t._v("详情")])]):t._e()})],2)]),t._v(" "),t.list.length>=1?s("Page",{staticClass:"fenye",attrs:{total:t.page.total,"page-size":15,current:t.page.current,"show-total":""},on:{"on-change":function(a){return t.ajaxlist(a,t.time,t.field,t.val)}}}):t._e()],1),t._v(" "),s("Drawer",{attrs:{closable:!1,width:"406px"},on:{"on-close":function(a){t.drawer=""}},model:{value:t.drawer_status,callback:function(a){t.drawer_status=a},expression:"drawer_status"}},[s("div",{staticClass:"left_show",attrs:{"data-v-131c0b29":""}},[s("div",{staticClass:"tite",attrs:{"data-v-131c0b29":""}},[t._v("详情信息")]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("创建时间")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.time))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("平台订单号")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.apiorder_id))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("商户订单号")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.order_id))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("支付方式")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.type))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("订单金额")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.order_money))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("实付金额")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.order_price))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("订单手续费")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.order_service))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("支付通道手续费")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.channel_service))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("同步通知地址")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.return_url))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("异步通知地址")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.notify_url))])]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("通知状态")]),t._v(" "),2==t.drawer.notice?s("span",{attrs:{"data-v-131c0b29":""}},[t._v("通知成功")]):t._e(),t._v(" "),3==t.drawer.notice?s("span",{attrs:{"data-v-131c0b29":""}},[t._v("通知失败")]):t._e(),t._v(" "),1==t.drawer.notice?s("span",{attrs:{"data-v-131c0b29":""}},[t._v("等待付款")]):t._e()]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("支付状态")]),t._v(" "),2==t.drawer.status?s("span",{attrs:{"data-v-131c0b29":""}},[t._v("支付成功")]):t._e(),t._v(" "),3==t.drawer.status?s("span",{attrs:{"data-v-131c0b29":""}},[t._v("订单过期")]):t._e(),t._v(" "),1==t.drawer.status?s("span",{attrs:{"data-v-131c0b29":""}},[t._v("等待付款")]):t._e()]),t._v(" "),s("div",{staticClass:"text_box",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("订单备注")]),t._v(" "),s("span",{attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.remarks))])]),t._v(" "),s("div",{staticClass:"text_box zhuihou",attrs:{"data-v-131c0b29":""}},[s("span",{attrs:{"data-v-131c0b29":""}},[t._v("实际进账")]),t._v(" "),s("span",{staticStyle:{color:"rgb(56, 108, 250)"},attrs:{"data-v-131c0b29":""}},[t._v(t._s(t.drawer.profit)+"元")])])])]),t._v(" "),t.spin?s("Spin",{attrs:{fix:""}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"tit"},[a("span",{attrs:{"data-v-6940696e":""}},[this._v("订单交易记录")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",{attrs:{"data-v-9154b70e":""}},[s("tr",{staticStyle:{background:"rgba(244,247,254,.25)"},attrs:{"data-v-9154b70e":""}},[s("th",{attrs:{"data-v-9154b70e":""}},[t._v("创建时间")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("平台订单号")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("商户订单号")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("支付方式")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("订单金额")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("实付金额")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("通知状态")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("支付状态")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("订单备注")]),t._v(" "),s("th",{attrs:{"data-v-9154b70e":""}},[t._v("详情")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"none_now"},[a("img",{attrs:{src:"/static/icon/7.png"}}),this._v(" "),a("div",[this._v("暂无相关数据")])])}]},_=s("VU/8")(v,i,!1,null,null,null);a.default=_.exports}});
//# sourceMappingURL=9.477402582a885915dcd6.js.map